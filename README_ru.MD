Тестовое задание JavaCode

Этот репозиторий содержит Python-приложение, которое реализует REST API для управления кошельками. API поддерживает следующие операции:

* Создание нового кошелька
* Получение баланса кошелька
* Пополнение кошелька
* Снятие денег с кошелька

Приложение использует фреймворк FastAPI и базу данных PostgreSQL.

Приложение разработано для обработки большого объема запросов (1000 запросов в секунду на кошелек) в конкурентной среде. Все запросы обрабатываются корректно, и ни один запрос не должен остаться без обработки (ошибка 50X). Формат ответа сохраняется для заведомо недействительных запросов, например, когда кошелек не существует, предоставлен недействительный JSON или недостаточно средств.

Приложение работает в Docker-контейнере, а база данных также работает в Docker-контейнере. Вся система может быть запущена с помощью Docker Compose. Параметры приложения и базы данных можно настроить без перестроения контейнеров.

Все конечные точки покрыты тестами.

Как запустить приложение:

shell

docker-compose up --build

Как использовать API:

* GET api/v1/wallets/: Получить список всех кошельков.
* POST api/v1/wallets/: Создать новый кошелек.
* POST api/v1/wallets/{wallet_uuid}/operation: Пополнить или снять деньги с кошелька.

Примечание: wallet_uuid в пути URL-адреса - это UUID кошелька.

Конечные точки:

* GET api/v1/wallets: Получить список всех кошельков.
* POST api/v1/wallets: Создать новый кошелек.
* GET api/v1/wallets/{wallet_uuid}: Получить баланс кошелька.
* POST api/v1/wallets/{wallet_uuid}/operation: Пополнить или снять деньги с кошелька.

Тело запроса для POST api/v1/wallets/{wallet_uuid}/operation:

JSON

{
  "operationType": "DEPOSIT" или "WITHDRAW",
  "amount": 1000
}
